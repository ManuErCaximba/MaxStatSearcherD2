"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8802],{8802:(L,c,o)=>{o.r(c),o.d(c,{LoginPageModule:()=>v});var g=o(6895),l=o(4719),i=o(7479),r=o(2667),h=o(2340),t=o(6738),u=o(6613),d=o(9355);const f=[{path:"",component:(()=>{class e{constructor(n,s,m,P){this.response=n,this.router=s,this.localService=m,this.restService=P,this.href="https://www.bungie.net/en/OAuth/Authorize?client_id="+h.N.CLIENT_ID+"&response_type=code",this.showLogin=!1}ngOnInit(){let n=this.response.snapshot.queryParams.code;null==n&&(n=this.localService.getData("mssd2-auth-code")),this.restService.getAuthToken(n).subscribe(s=>{console.log(s),this.localService.saveData("mssd2-auth-code",n),this.localService.saveData("mssd2-auth-token",s.access_token),this.localService.saveData("mssd2-refresh-token",s.refresh_token),this.router.navigate(["build-searcher"])},s=>{console.log(s),this.showLogin=!0})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(r.gz),t.Y36(r.F0),t.Y36(u.n),t.Y36(d.v))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:7,vars:1,consts:[[3,"href"]],template:function(n,s){1&n&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3," Max Stat Searcher Destiny 2 "),t.qZA()()(),t.TgZ(4,"ion-content")(5,"ion-button",0),t._uU(6,"LOGIN"),t.qZA()()),2&n&&(t.xp6(5),t.s9C("href",s.href))},dependencies:[i.YG,i.W2,i.Gu,i.sr,i.wd],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),e})()}];let p=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[r.Bz.forChild(f),r.Bz]}),e})(),v=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.ez,l.u5,i.Pc,p]}),e})()}}]);